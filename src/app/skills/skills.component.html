<div class="bg-image">
  <div class="skills">
    <div *ngIf="!isError">
      <input type="text" placeholder="Search..." [(ngModel)]="searchText" class="search-box" />
    </div>

    <table class="tree-table">
      <tbody>
        <ng-container *ngFor="let skill of skills">

          <!-- Parent -->
          <tr *ngIf="matchesSearch(skill)">
            <td (click)="toggle(skill)">
              <button class="toggle-btn">
                {{ skill.expanded ? '-' : '+' }}
              </button>
              {{ skill.name }}
            </td>
          </tr>

          <!-- Child -->
          <ng-container *ngIf="skill.expanded">
            <ng-container *ngFor="let child of skill.children">
              <tr *ngIf="matchesSearch(child)" class="child-row">
                <td>{{ child.name }}</td>
              </tr>
            </ng-container>
          </ng-container>

        </ng-container>
      </tbody>
    </table>
    <app-error [isError]="isError"></app-error>
  </div>
</div>
